import {createRoot} from 'react-dom/client';
import './styles/index.scss';
import {css} from '@emotion/css';
import {useEffect, useRef} from 'react';

const App = () => {
  const svgDomRef = useRef(null);
  useEffect(() => {
    const svgDom = svgDomRef.current;
    const {xMin, xMax, yMin, yMax} = [...svgDom.children].reduce(
      (acc, elem) => {
        const {x, y, width, height} = elem.getBBox();
        if (!acc.xMin || x < acc.xMin) {
          acc.xMin = x;
        }
        if (!acc.xMax || x + width > acc.xMax) {
          acc.xMax = x + width;
        }
        if (!acc.yMin || y < acc.yMin) {
          acc.yMin = y;
        }
        if (!acc.yMax || y + height > acc.yMax) {
          acc.yMax = y + height;
        }
        return acc;
      },
      {xMin: Infinity, yMin: Infinity, xMax: -Infinity, yMax: -Infinity}
    );

    const viewbox = `${xMin} ${yMin} ${xMax - xMin} ${yMax - yMin}`;

    svgDom.setAttribute('viewBox', viewbox);
  }, []);

  return (
    <div
      className={css`
        width: 100%;
        height: 100vh;
        display: grid;
        place-items: center;
      `}
    >
      <div
        className={css`
          width: 300px;
          border: 1vmin solid rgba(174, 226, 238, 1);
          border-image-slice: 1;
          /* https://coliss.com/articles/build-websites/operation/css/css-conic-gradient-border.html */
          /* https://codepen.io/argyleink/pen/pogZxaZ */
          border-image-source: linear-gradient(
            90deg,
            rgba(174, 226, 238, 1) 52%,
            rgba(212, 218, 238, 1) 100%
          );
        `}
      >
        <svg
          ref={svgDomRef}
          width={'100%'}
          height={'100%'}
          preserveAspectRatio="xMidYMid meet"
        >
          <g>
            <path
              stroke={'black'}
              strokeWidth={1}
              d="M 1010.3 33.1 C 1107.34 61.8 1169.72 77.05 1219.6 86.6 C 1244.03 91.27 1265.42 95.57 1267.13 96.14 C 1275.57 98.94 1366.58 115.24 1399.9 119.88 C 1420.73 122.78 1465.42 127.26 1499.2 129.83 S 1561.8 135.01 1563.2 135.63 C 1564.63 136.28 1565.45 139.93 1565.04 143.73 C 1564.64 147.53 1562.28 188.33 1559.82 234.36 C 1557.36 280.4 1554.54 331.5 1553.55 347.92 C 1542.75 527.19 1541.31 567.45 1545.17 580.32 C 1547.47 588.02 1548.27 596.48 1547 600.29 C 1543.83 609.86 1550.32 619.99 1561.72 623.26 C 1575.96 627.36 1600.06 651.41 1607.29 668.76 C 1611.23 678.26 1616.79 686.11 1623.92 692.29 C 1629.82 697.39 1634.97 702.72 1635.4 704.13 C 1635.83 705.53 1639.77 708.81 1644.17 711.43 C 1648.57 714.03 1655.29 721.21 1659.12 727.4 C 1662.95 733.6 1667.29 738.97 1668.76 739.37 C 1672.61 740.4 1689.88 759.19 1694.71 767.6 C 1696.98 771.53 1712.01 788.9 1728.16 806.2 C 1745.12 824.4 1758.51 840.98 1759.9 845.53 C 1761.2 849.86 1763.52 864.8 1765.02 878.73 C 1767.84 904.88 1771.72 915.33 1781.66 923.7 C 1787.46 928.58 1787.86 930.7 1783.03 930.74 C 1780.49 930.76 1722.83 930.21 1678.03 929.74 C 1662.59 929.58 1496.1 918.42 1427.3 912.94 C 1415.5 911.99 1402 911 1397.32 910.72 C 1386.46 910.08 1384.02 907.99 1380.42 896.17 C 1378.42 889.55 1375.4 885.67 1370.78 883.71 C 1352.18 875.86 1344.98 871.28 1343.52 866.39 C 1342.62 863.43 1340.92 861.31 1339.69 861.69 C 1333.47 863.54 1320.42 852.61 1315.29 841.25 C 1306.99 822.85 1293.45 808.75 1273.74 797.97 C 1256.09 788.33 1255.87 788.07 1253.68 775.37 C 1251.88 764.97 1250.72 762.77 1247.58 763.7 C 1245.43 764.34 1243.02 764.07 1242.22 763.1 C 1241.42 762.13 1234.32 759.8 1226.47 757.94 C 1218.61 756.07 1211.67 753.17 1211.05 751.5 C 1210.43 749.84 1208.75 746.3 1207.33 743.67 C 1203.83 737.17 1202.33 732.67 1194.46 705.07 C 1187.89 682.03 1187.86 681.15 1193.53 672.5 C 1198.88 664.33 1198.93 663.05 1194.13 656.43 C 1191.26 652.48 1187.55 644.7 1185.89 639.15 C 1183.59 631.5 1179.29 626.25 1168.07 617.41 C 1155.7 607.67 1153.12 604.31 1152.15 596.64 C 1151.51 591.61 1152.75 584.8 1154.91 581.51 C 1159.26 574.87 1157.51 571.01 1143.44 556.26 C 1136.36 548.84 1133.74 542.79 1125.27 514.38 C 1115.71 482.28 1115.54 480.9 1119.97 472.71 C 1122.47 468.04 1129.95 460.08 1136.57 455.01 C 1152.91 442.56 1163.47 425.05 1160.54 415.31 C 1157.47 405.07 1159.39 391.38 1165.77 378.04 C 1170.54 368.07 1170.61 365.16 1166.37 351.1 C 1162.1 336.82 1160.73 334.9 1151.97 330.82 C 1140.84 325.62 1116.82 301.27 1107.57 285.77 C 1102.12 276.65 1101.03 271.07 1099.5 244.34 C 1097.94 217.06 1096.9 211.86 1090.62 199.82 C 1086.7 192.32 1079.55 175.42 1074.74 162.28 C 1069.92 149.14 1064.74 136.12 1063.24 133.35 C 1061.72 130.57 1058.48 124.01 1056.04 118.75 C 1053.58 113.51 1043.84 95.85 1034.34 79.49 C 1024.88 63.12 1015.78 47.34 1014.14 44.39 C 1012.26 41.03 1007.17 38.61 1000.54 37.91 L 1010.26 33.08 Z"
            />
          </g>
          <g>
            <path
              stroke={'black'}
              strokeWidth={1}
              d="M 1932.54 926.55 C 1784.6 931.52 1801.02 932.61 1787.44 916.92 L 1775.98 903.69 L 1773.05 873.71 C 1769.95 842.11 1767.35 834.65 1754.85 821.43 L 1728.27 793.28 C 1717.9 782.28 1704.77 766.75 1699.13 758.75 C 1693.48 750.75 1683.99 740.15 1678.05 735.18 C 1672.11 730.22 1665.25 722.23 1662.78 717.43 C 1660.33 712.63 1653.88 705.91 1648.48 702.49 C 1643.06 699.09 1638.26 695.06 1637.81 693.56 C 1637.38 692.06 1633.61 688.21 1629.45 684.96 C 1625.07 681.58 1618.67 672.16 1614.27 662.61 C 1609.47 652.21 1603.37 643.48 1597.77 638.98 C 1592.89 635.05 1586.77 629.06 1584.2 625.68 C 1581.6 622.28 1574.63 618.08 1568.7 616.35 C 1558.08 613.25 1551.97 604.85 1556.57 599.67 C 1557.72 598.37 1556.73 590.9 1554.37 583.07 C 1550.21 569.17 1552.52 515.91 1572.44 167.47 L 1574.24 135.97 L 1636.61 137.8 C 1670.93 138.8 1722.81 139.46 1751.94 139.26 L 1865.96 138.46 C 1899.56 138.23 1927.41 138.23 1927.86 138.46 C 1930.06 139.66 1932.04 180.04 1930.02 182.49 C 1928.76 184.04 1925.16 186.89 1922.02 188.79 C 1916.12 192.44 1897.22 227.09 1898.52 231.89 C 1898.92 233.41 1903.96 235.37 1909.72 236.26 C 1919.77 237.82 1920.38 237.6 1925.94 230.43 C 1929.12 226.33 1931.76 220.41 1931.81 217.25 C 1931.85 214.07 1932.57 211.85 1933.41 212.31 C 1934.25 212.76 1936.07 233.36 1937.44 258.07 C 1940.69 316.43 1944.29 379.61 1949.28 466.33 L 1954.83 563.77 C 1959.06 639.93 1962.89 707.95 1965.03 744.97 C 1976.37 940.47 1975.67 924.81 1973.1 925.04 C 1972.07 925.12 1953.82 925.78 1932.54 926.49 Z"
            />
          </g>
          <g>
            <path
              stroke={'black'}
              strokeWidth={1}
              d="M 2366.88 881.5 C 2366.14 881.14 2356.08 882.83 2344.51 885.26 C 2332.97 887.7 2320.51 890.12 2316.83 890.66 S 2302.43 893.16 2293.01 895.02 C 2283.58 896.86 2272.87 898.84 2269.21 899.4 C 2265.53 899.96 2254.81 901.9 2245.37 903.73 C 2235.93 905.53 2198.07 909.17 2161.24 911.78 C 2124.4 914.4 2092.44 916.68 2090.18 916.88 C 2077.78 917.88 2070.76 918.38 2054.63 919.35 C 2044.83 919.95 2034.38 920.75 2031.43 921.09 C 2028.46 921.44 2016.43 922.36 2004.73 923.14 C 1987.43 924.3 1983.43 923.7 1983.47 919.96 C 1983.51 915.66 1978.8 826.89 1978.05 817.89 C 1977.85 815.65 1976.83 797.74 1975.75 778.09 C 1974.67 758.46 1972.72 723.87 1971.4 701.23 C 1970.08 678.59 1967.64 634.73 1965.98 603.75 C 1964.32 572.77 1962.73 544.99 1962.45 542.02 C 1962.17 539.04 1961.09 521.15 1960.05 502.26 C 1958.99 483.36 1956.8 444.43 1955.15 415.76 C 1953.52 387.06 1951.22 346.29 1950.05 325.16 L 1945.62 245.04 L 1943.3 203.37 L 1956.88 200.49 C 1964.35 198.89 1976.38 196.76 1983.61 195.73 C 1990.85 194.7 2005.39 190.11 2015.94 185.53 C 2034.04 177.67 2036.11 177.33 2052.78 179.51 C 2069.25 181.66 2075.55 180.29 2073.93 174.89 C 2073.07 172.02 2010.7 161.86 1996.13 162.23 C 1990.03 162.38 1982.46 163.28 1979.29 164.23 C 1976.12 165.17 1970.53 164.33 1966.87 162.36 C 1959.52 158.41 1951.84 159.76 1945.47 166.09 C 1940.57 170.97 1940.2 170.17 1938.67 151.31 C 1937.8 140.43 1938.55 137.41 1942.17 137.37 C 1946.27 137.3 1965.5 135.59 1983.57 133.67 C 1987.19 133.3 1992.6 132.77 1995.59 132.51 C 2004.69 131.74 2117.13 120.51 2124.35 119.66 C 2128.05 119.23 2145.75 117.46 2163.65 115.76 C 2181.57 114.03 2200.97 111.69 2206.77 110.53 C 2216.91 108.53 2217.39 108.76 2219.55 117.35 C 2220.79 122.25 2225.25 148.48 2229.45 175.62 C 2233.65 202.77 2238.11 230.96 2239.33 238.27 C 2241.53 251.3 2240.4 258.89 2236.11 260.17 C 2232.18 261.35 2221.96 282.97 2221.04 292.04 C 2220.37 298.64 2221.49 302.94 2225.34 308.6 C 2236.47 324.97 2238.14 334.12 2232.08 345.78 C 2228.18 353.35 2227.46 357.53 2229.78 359.58 C 2232.46 361.98 2234.22 360.78 2239.14 353.26 C 2242.47 348.16 2246.91 343.49 2248.99 342.86 C 2252.84 341.71 2255.21 349.79 2266.33 401.86 C 2268.03 409.8 2271.87 426.86 2274.87 439.78 C 2277.87 452.7 2281.4 468.6 2282.72 475.12 C 2284.05 481.62 2287.9 498.69 2291.29 513.04 C 2294.69 527.37 2298.22 543.26 2299.15 548.36 C 2300.08 553.46 2303.92 570.52 2307.69 586.28 C 2311.46 602.04 2314.99 617.94 2315.57 621.61 C 2316.13 625.29 2319.95 642.36 2324.07 659.55 C 2328.17 676.75 2331.74 692.63 2332 694.85 C 2332.25 697.08 2335.95 713.55 2340.2 731.48 C 2344.48 749.38 2348.17 765.88 2348.42 768.1 C 2348.67 770.3 2352.36 786.8 2356.62 804.7 C 2360.89 822.62 2364.62 839.44 2364.89 842.1 S 2367.39 854.43 2369.84 863.64 C 2373.81 878.58 2372.84 884.44 2366.9 881.51 Z"
            />
          </g>
        </svg>
      </div>
    </div>
  );
};

const container = document.getElementById('root');

const root = createRoot(container);

root.render(<App />);
